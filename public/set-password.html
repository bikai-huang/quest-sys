
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="gr__wjx_cn"><head id="Head1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>
	北京师范大学问卷系统修改密码
</title><meta content="北京师范大学问卷系统" name="keywords">
       <link rel="stylesheet" href="./css/index.css" type="text/css">
       <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
       <script type="text/javascript" src="./js/common.js"></script>

       <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">

       <link rel="stylesheet" type="text/css" href="./css/wjxmaster.css">

<style>
    .divAnti input {
        width: 140px !important;
        padding-left: 16px !important;
        border: none;
        height: 46px !important;
        line-height:46px !important;
        font-size: 14px;
        padding-left: 46px;
        border-radius: 100px;
        border: 1px solid #e6e6e6;
        float: left !important;
    }
    .container{
        width: 100%;
        background: #F2F7F9;
        padding: 30px 128px 160px 128px;    
    }
    .contentBlock{
        width:100%;
        background:#ffffff;
        padding:40px 40px 70px 40px;
        margin-top:20px;    }
</style>
</head>

<body>

        <div id="BS" style="background: #FFFFFF;" >
            </div>
            <script>
                getHeaderHtml();
            </script>
<div class="container">
<div class="contentBlock">
    <div id="divSojump" class="validate-box">
        <fieldset class="validate-wrapper">
            <legend class="validate-caption">修改密码</legend>
            <ul>
                <li>
                <!-- onfocus="if(value==&#39;请确认新密码&#39;){value=&#39;&#39;;}" onblur="if(value==&#39;&#39;){value=&#39;请确认新密码&#39;}" -->
                    <label for="user-name" class="icon user-icon"></label>
                    <input id="oldpassword" placeholder="请输入原始密码" class="validate-input user-name" type="password" >
                    <div class="divclear"></div>
                </li>
                
                <li>
                    <label for="user-name" class="icon user-icon"></label>
                    <input id="newpassword" placeholder="请输入新密码" class="validate-input user-name" type="password">
                    <div class="divclear"></div>
                </li>
                
                 <li>
                    <label for="user-name" class="icon user-icon"></label>
                    <input id="conpassword" placeholder="请确认新密码" class="validate-input user-name" type="password" >
                    <div class="divclear"></div>
                </li>
                

            </ul>

        </fieldset>
        <fieldset class="submit-wrapper" style="text-align: center; margin-top: 20px;">
            <input type="submit" value="修改密码" id="resetPassword" onclick="resetPassword();" class="submitbutton" onmouseover="this.className=&#39;submitbutton submitbutton_hover&#39;;" onmouseout="this.className=&#39;submitbutton&#39;;" style="color:White;">
        </fieldset>
    </div>
</div>
</div>
</body>
<script>
function resetPassword() {
    var oldpassword = $('#oldpassword').val();
    var newpassword = $('#newpassword').val();
    var conpassword = $('#conpassword').val();
    if(!oldpassword) {
        alert('请输入原始密码.');
        return;
    }
    if(!newpassword) {
        alert('请输入新密码.');
        return;
    }
    if(!conpassword) {
        alert('请确认密码.');
        return;
    }
    if(newpassword != conpassword) {
        alert('两次输入的密码不一致.');
        return;
    }
    $.ajax({
			url: host + '/api/a/updatePwd/',
			type: "GET",
			dataType: "json", 
			data: {token: token, oldpassword: oldpassword, newpassword: newpassword},
			cache: false,
			success: function(result) {
				console.log(result.paperList)
				if (result.state == 200) {
					alert('密码已设置！');
				} else {
					alert(result.data.error);
				}
			},
			error: function(XMLHttpRequest, textStatus, errorThrown) {
												
      		}
		});

}
</script>

</html>